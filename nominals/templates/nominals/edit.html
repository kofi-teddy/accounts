{% extends 'accountancy/edit.html' %}

{% load static %}
{% load crispy_forms_tags %}

{% block extra_head %}
    <link rel="stylesheet" href="{% static 'purchases/css/purchase_input.css' %}">
    <link rel="stylesheet" href="{% static 'accountancy/css/audit.css' %}">
{% endblock extra_head %}

{% block buttons_footer %}
<div class="d-flex justify-content-between align-items-center p-2 border bg-white">
    <div>
        <button type="button" class="btn btn-primary btn-sm" data-backdrop="false" data-toggle="modal" data-target="#auditModal">
            Audit
        </button>
    </div>
    <div>
        <button type="submit" class="btn btn-success xero-btn approve" name="approve" value="do_not_add_another">Save</button>
    </div>
</div>
{% endblock buttons_footer %}

{% block modal_forms %}
    {% include 'accountancy/on_the_fly.html' %}
    {% include 'accountancy/audit_transaction.html' %}
{% endblock modal_forms %}

{% block extra_js %}
    {% include 'accountancy/grid_js.html' with header_form=header_form %}
    <script src="{% static 'purchases/js/on_the_fly.js' %}"></script>
    <script>
        {% include "accountancy/audit.js" %}
    </script>
    <script src="{% static 'accountancy/js/audit_transaction.js' %}"></script>
{% endblock extra_js %}

{% block module_js %}
    <script>
        $(document).ready(function(){
            $("select[name='header-vat_type']").selectize({
                "allowEmptyOption": true,
                "copyClassesToDropdown": false
            });
        });
    </script>
{% endblock module_js %}